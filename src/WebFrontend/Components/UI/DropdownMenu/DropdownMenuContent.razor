@using WebFrontend.Components.UI.Shared
@* Dropdown menu content component *@
<div 
    data-slot="dropdown-menu-content"
    data-dropdown-menu-content="@ParentMenu?.MenuId"
    data-state="@(ParentMenu?.Open == true ? "open" : "closed")"
    style="position: fixed; display: none; pointer-events: none; opacity: 0; transition: opacity 200ms ease-in-out;"
    class="@GetClass()"
    @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    [CascadingParameter] public DropdownMenu? ParentMenu { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public int SideOffset { get; set; } = 4;
    [Parameter] public string? Class { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string GetClass()
    {
        var baseClasses = "bg-popover text-popover-foreground z-50 max-h-[--radix-dropdown-menu-content-available-height] min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md";
        return ClassBuilder.Merge(baseClasses, Class);
    }
}
